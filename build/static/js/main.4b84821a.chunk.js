(this.webpackJsonpfend=this.webpackJsonpfend||[]).push([[0],{40:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var c=n(16),r=n.n(c),i=n(3),a=n(2),u=n(0),l=function(t){return Object(u.jsxs)("form",{onSubmit:t.adder,children:[Object(u.jsx)("h2",{children:"Add New"}),Object(u.jsxs)("div",{children:["Author: ",Object(u.jsx)("input",{value:t.name,onChange:t.nameHandler})]}),Object(u.jsxs)("div",{children:["Title: ",Object(u.jsx)("input",{value:t.title,onChange:t.titleHandler})]}),Object(u.jsxs)("div",{children:["Url: ",Object(u.jsx)("input",{value:t.url,onChange:t.urlHandler})]}),Object(u.jsxs)("div",{children:["UP-Votes: ",Object(u.jsx)("input",{value:t.likes,onChange:t.likesHandler})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},o=function(t){return Object(u.jsxs)("div",{children:["Filter with: ",Object(u.jsx)("input",{value:t.q,onChange:t.handler})]})},s=n(4),j=n.n(s),d="/api/blogs",f=function(){return j.a.get(d).then((function(t){return t.data}))},b=f,h=function(t){return j.a.post(d,t).then((function(t){return t.data}))},O=function(t,e){return j.a.put("".concat(d,"/").concat(t),e).then((function(t){return t.data}))},v=function(t){return j.a.delete("".concat(d,"/").concat(t.id)).then((function(){return f()}))},x=function(){var t=Object(a.useState)([]),e=Object(i.a)(t,2),n=e[0],c=e[1];Object(a.useEffect)((function(){b().then((function(t){c(t)}))}),[]);var r=Object(a.useState)(new Array(4)),s=Object(i.a)(r,2),j=Object(i.a)(s[0],4),d=j[0],f=j[1],x=j[2],p=j[3],g=s[1],m=[d,f,x,p],k=Object(a.useState)(""),w=Object(i.a)(k,2),C=w[0],H=w[1],E=Object(a.useState)(n),S=Object(i.a)(E,2),U=S[0],y=S[1],A=Object(a.useState)(null),B=Object(i.a)(A,2),D=B[0],L=B[1],q=function(t){L(t),setTimeout((function(){L(null)}),5e3)};Object(a.useEffect)((function(){if(""!==C){console.log("QUERY",C);var t=n.filter((function(t){return!!t&&t.title.toLowerCase().startsWith(C.toLowerCase())}));y(t)}else console.log("QUERY Empty"),y(n)}),[C,n]);var J=function(t){var e=t.message;return null===e?null:Object(u.jsx)("div",{className:"notifier",children:e})},N=function(t){return console.log("list",t.list),Object(u.jsx)("ul",{children:t.list.map((function(t){return Object(u.jsxs)("li",{children:[t.author," ",t.title," ",t.url," ",t.likes,Object(u.jsx)("button",{onClick:function(){return function(t){window.confirm("Delete ".concat(t.title," ?"))&&v(t).then((function(e){c(e),q("Deleted ".concat(t.title))})).catch((function(t){q(t.response.data.error)}))}(t)},children:"delete"})]},t.id)}))})};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Blog List App"}),Object(u.jsx)(J,{message:D}),Object(u.jsx)(o,{q:C,handler:function(t){H(t.target.value)}}),Object(u.jsx)(l,{adder:function(t){t.preventDefault();var e={title:d,author:f,url:x,likes:p};console.log(e);var r=n.filter((function(t){return t.title===d}));if(0!==r.length){var i=r[0].id;O(i,e).then((function(t){c(n.map((function(e){return e.id!==i?e:t}))),q("Updated ".concat(d))})).catch((function(t){q(t.response.data.error)}))}else h(e).then((function(t){q("Created ".concat(d)),c(n.concat(t))})).catch((function(t){q(t.response.data.error)}))},name:f,nameHandler:function(t){m[1]=t.target.value.trim(),g(m)},title:d,titleHandler:function(t){m[0]=t.target.value.trim(),g(m)},url:x,urlHandler:function(t){m[2]=t.target.value.trim(),g(m)},likes:p,likesHandler:function(t){m[3]=t.target.value.trim(),g(m)}}),Object(u.jsx)("h2",{children:"Blogs"}),Object(u.jsx)(N,{list:U})]})};n(40);r.a.render(Object(u.jsx)(x,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.4b84821a.chunk.js.map